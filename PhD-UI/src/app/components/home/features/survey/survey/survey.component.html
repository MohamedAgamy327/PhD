<mat-toolbar color="primary">{{'{ = }'}} Course Survey</mat-toolbar>

<form #surveyForm="ngForm">
    <mat-card class="example-card" *appQuestionsLoop="let question of questions form surveyForm; let i = index; let c = controller">

        <ng-container *ngIf="question.type == 'Radio'">

            <mat-card-header>
                <mat-card-title>{{question.content}}</mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <mat-radio-group class="example-radio-group" name="radioAnswer" [(ngModel)]="radioAnswer">
                    <mat-radio-button class="example-radio-button" *ngFor="let answer of question.answers" [value]="answer.id">
                        {{answer.content}}
                    </mat-radio-button>
                </mat-radio-group>
            </mat-card-content>

            <mat-card-actions>
                <button mat-button (click)="c.prev()" [disabled]="c.isFirst()">{{'PREVIOUS' | translate}}</button>
                <button mat-raised-button color="primary" [disabled]="!radioAnswer" (click)="answerRadio(question.id,radioAnswer)" [ngStyle]="{'float':coreService.layout === 'ltr' ? 'right' : 'left' }" *ngIf="c.isLast(); else nextBtn">{{'SUBMIT' |
          translate}}</button>
                <ng-template #nextBtn>
                    <button [disabled]="!radioAnswer" mat-button [ngStyle]="{'float':coreService.layout === 'ltr' ? 'right' : 'left' }" (click)="c.next();answerRadio(question.id,radioAnswer)">{{'NEXT' |
            translate}}</button>
                </ng-template>
            </mat-card-actions>

        </ng-container>

        <ng-container *ngIf="question.type == 'Checkbox'">

            <mat-card-header>
                <mat-card-title>{{question.content}}</mat-card-title>
            </mat-card-header>

            <mat-card-content>

                <ul>
                    <li *ngFor="let answer of question.answers">
                        <mat-checkbox name="checked{{i}}" class="example-radio-button" [(ngModel)]="answer.checked">
                            {{answer.content}}
                        </mat-checkbox>
                    </li>
                </ul>
            </mat-card-content>

            <mat-card-actions>
                <button mat-button (click)="c.prev()" [disabled]="c.isFirst()">{{'PREVIOUS' | translate}}</button>
                <button mat-raised-button color="primary" [ngStyle]="{'float':coreService.layout === 'ltr' ? 'right' : 'left' }" *ngIf="c.isLast(); else nextBtn">{{'SUBMIT' |
          translate}}</button>
                <ng-template #nextBtn>
                    <button mat-button [disabled]="!checkCheckbox(i)" [ngStyle]="{'float':coreService.layout === 'ltr' ? 'right' : 'left' }" (click)="c.next();answerCheckbox(i)">{{'NEXT' |
            translate}}</button>
                </ng-template>
            </mat-card-actions>

        </ng-container>


        <app-survey-footer [index]="i" [total]="questions.length"></app-survey-footer>
    </mat-card>